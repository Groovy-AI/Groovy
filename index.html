<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Groovy Virtual Pet</title>
  <style>
    body {
      margin: 0;
      font-family: 'Courier New', monospace;
      background: url('https://cdna.artstation.com/p/assets/images/images/062/116/328/large/baylee-smith-interior.jpg?1682400211') center/cover fixed no-repeat;
      color: #e0d8a8;
      display: flex;
      height: 100vh;
      overflow: hidden;
    }
    #sidebar {
      width: 250px;
      background: rgba(34,34,34,0.9);
      padding: 20px;
      overflow-y: auto;
    }
    #sidebar h2 { color: #fff; text-align: center; margin-bottom: 10px; }
    #sidebar img { width: 100%; border-radius: 10px; margin-bottom: 10px; }
    #sidebar .stats { color: #fff; margin-bottom: 10px; line-height: 1.5; }
    #sidebar ul { list-style: none; padding: 0; margin: 0; }
    #sidebar li { margin: 5px 0; }
    #sidebar button {
      width: 100%; padding: 10px;
      background: #444; color: #fff;
      border: none; border-radius: 5px;
      cursor: pointer; text-align: left;
    }
    #sidebar button:hover { background: #666; }
    #main {
      flex: 1;
      position: relative;
      padding-top: 50px;
      display: flex; flex-direction: column; align-items: center;
    }
    #warning {
      position: absolute;
      top: 10px;
      color: #ff4444;
      font-size: 18px;
      font-weight: bold;
    }
    #groovy {
      width: 200px;
      transition: opacity 0.3s;
      cursor: grab;
      position: absolute;
      left: calc(50% - 100px);
      top: 100px;
    }
    #output {
      position: absolute;
      bottom: 80px;
      width: 60%;
      background: rgba(0,0,0,0.7);
      color: #e0d8a8;
      padding: 15px;
      border-radius: 10px;
      text-align: center;
      font-size: 18px;
    }
    .bar {
      height: 12px;
      border-radius: 6px;
      background: #333;
      overflow: hidden;
      margin-top: 5px;
    }
    .fill {
      height: 100%;
      background: lightgreen;
      width: 100%;
      transition: width 0.3s;
    }
    button.restart {
      margin-top: 10px;
      padding: 8px 12px;
      background: #ff4444;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <div id="sidebar">
    <h2>Groovy Commands</h2>
    <img id="sidebar-groovy" src="https://cdn3d.iconscout.com/3d/premium/thumb/personaje-robot-con-inteligencia-artificial-saludando-con-una-gran-sonrisa-3d-icon-png-download-11431338.png" alt="Groovy">
    <div class="stats" id="batteryStats">Battery: 100%</div>
    <div class="stats" id="cleanlinessStats">Cleanliness: 100%</div>
    <div class="stats" id="healthStats">Health: 100%</div>
    <div id="level" class="stats">Level: 1</div>
    <ul>
      <li><button onclick="interact('feed')">Feed</button></li>
      <li><button onclick="interact('drink')">Give Water</button></li>
      <li><button onclick="interact('play')">Play</button></li>
      <li><button onclick="interact('bath')">Bath</button></li>
      <li><button onclick="interact('sleep')">Sleep</button></li>
      <li><button onclick="interact('workout')">Workout</button></li>
      <li><button onclick="interact('charge')">Charge</button></li>
      <li><button onclick="interact('pet')">Pet</button></li>
      <li><button onclick="interact('joke')">Tell a Joke</button></li>
    </ul>
  </div>

  <div id="main">
    <div id="warning"></div>
    <img id="groovy" src="https://cdn3d.iconscout.com/3d/premium/thumb/personaje-robot-con-inteligencia-artificial-saludando-con-una-gran-sonrisa-3d-icon-png-download-11431338.png" alt="Groovy">
    <div id="output">Loading Groovy...</div>
  </div>

<script>
const groovy = document.getElementById('groovy');
const output = document.getElementById('output');
const warning = document.getElementById('warning');
const batteryStats = document.getElementById('batteryStats');
const cleanStats = document.getElementById('cleanlinessStats');
const healthStats = document.getElementById('healthStats');
const levelEl = document.getElementById('level');

let battery = 100;
let cleanliness = 100;
let health = 100;
let happiness = 80;
let exp = 0;
let level = 1;
let dead = false;

const sadImg = "https://img.freepik.com/free-vector/ai-technology-robot-cyborg-illustrations_128561063.jpg";

function updateStats() {
  if (dead) return;
  batteryStats.textContent = `Battery: ${battery}%`;
  cleanStats.textContent = `Cleanliness: ${cleanliness}%`;
  healthStats.textContent = `Health: ${health}%`;
  levelEl.textContent = `Level: ${level}`;

  if (cleanliness < 30) warning.textContent = "âš  Groovy feels dirty!";
  else if (battery < 20) warning.textContent = "âš  Groovy needs charging!";
  else if (health < 50) warning.textContent = "âš  Groovy isn't feeling well...";
  else warning.textContent = "";

  if (cleanliness < 50) {
    groovy.src = sadImg;
  } else {
    groovy.src = "https://cdn3d.iconscout.com/3d/premium/thumb/personaje-robot-con-inteligencia-artificial-saludando-con-una-gran-sonrisa-3d-icon-png-download-11431338.png";
  }

  if (battery <= 0 || health <= 0) {
    dead = true;
    groovy.style.opacity = 0.3;
    output.innerHTML = "ðŸ’€ Groovy has passed away...<br><button class='restart' onclick='restart()'>Restart Groovy</button>";
  }
}

function interact(action) {
  if (dead) return;
  if (cleanliness < 30 && ['play','workout'].includes(action)) {
    output.textContent = "Groovy is too dirty to do that! Please give a bath.";
    return;
  }

  switch(action) {
    case 'feed': battery = Math.min(100, battery+5); cleanliness -= 10; happiness +=5; break;
    case 'drink': battery = Math.min(100, battery+3); cleanliness -= 5; happiness +=5; break;
    case 'play': battery -=5; cleanliness -= 10; happiness +=15; break;
    case 'workout': battery -=10; cleanliness -= 15; happiness +=10; break;
    case 'bath': cleanliness = 100; happiness += 10; break;
    case 'sleep': battery = Math.min(100, battery + 20); break;
    case 'charge': battery = Math.min(100, battery + 30); break;
    case 'pet': happiness +=10; break;
    case 'joke': happiness +=5; break;
  }
  battery = clamp(battery);
  cleanliness = clamp(cleanliness);
  happiness = clamp(happiness);
  exp += 5;
  if (exp >= 100) { level++; exp = 0; output.textContent = `Groovy leveled up to ${level}!`; }
  output.textContent = `You chose: ${action}`;
  updateStats();
}

function clamp(val){ return Math.max(0, Math.min(100, val)); }

function decay() {
  if (dead) return;
  battery -= 1;
  cleanliness -= 1;
  happiness -= 0.5;
  if (cleanliness < 30 || battery < 20 || happiness < 30) {
    health -= 2;
  }
  health = clamp(health);
  updateStats();
}

function restart() {
  battery = 100; cleanliness = 100; health = 100; happiness = 80; level = 1; exp = 0; dead = false;
  groovy.style.opacity = 1;
  output.textContent = "Groovy is reborn! Take good care!";
  updateStats();
}

setInterval(decay, 5000);
updateStats();
output.textContent = "Meet Groovy! Take care of him to keep him alive.";
</script>
</body>
</html>
