<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Groovy Virtual Pet - Tamagotchi Edition</title>
<style>
body {
  margin:0;
  font-family:'Courier New', monospace;
  background: url('https://cdna.artstation.com/p/assets/images/images/062/116/328/large/baylee-smith-interior.jpg?1682400211') no-repeat center center fixed;
  background-size: cover;
  color: #e0d8a8;
  display:flex;
  height:100vh;
  overflow:hidden;
}
#sidebar {
  width:250px;
  background: rgba(34,34,34,0.9);
  padding:20px;
  overflow-y:auto;
}
#sidebar h2 { text-align:center; color:#fff; }
#sidebar img { width:100%; border-radius:10px; margin-bottom:10px; }
#sidebar .stats { color:#fff; margin-bottom:10px; line-height:1.5; }
#sidebar ul { list-style:none; padding:0; margin:0; }
#sidebar li { margin:5px 0; }
#sidebar button {
  width:100%; padding:10px; background:#444; color:#fff;
  border:none; border-radius:5px; cursor:pointer; text-align:left;
  margin-bottom:5px;
}
#sidebar button:hover { background:#666; }
#main {
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  position:relative;
  padding-top:50px;
}
#mood {
  font-size:36px; 
  margin-bottom:10px; 
}
#groovy {
  width:200px;
  transition: transform 0.3s, opacity 0.5s;
  cursor: grab;
  position: absolute;
  left: calc(50% - 100px);
  top: 100px;
}
.bounce { animation: bounce 0.6s ease; }
.dance { animation: dance 0.5s infinite alternate; }
.sleep { opacity:0.5; }
.tilt { transform: rotate(10deg); }

@keyframes bounce { 0% { transform: translateY(0); } 50% { transform: translateY(-15px); } 100% { transform: translateY(0); } }
@keyframes dance { 0% { transform: rotate(0deg); } 50% { transform: rotate(15deg); } 100% { transform: rotate(-15deg); } }

#output {
  background: rgba(0,0,0,0.7);
  padding:15px;
  border-radius:10px;
  width:60%;
  text-align:center;
  font-size:18px;
  position: absolute;
  bottom: 80px;
}
#level {
  text-align:center;
  margin-top:10px;
  font-weight:bold;
  color:#fff;
}
button.restart {
  margin-top:10px;
  background:#ff4444;
  color:#fff;
}
</style>
</head>
<body>

<div id="sidebar">
<h2>Groovy Commands</h2>
<img id="sidebar-groovy" src="https://cdn3d.iconscout.com/3d/premium/thumb/personaje-robot-con-inteligencia-artificial-saludando-con-una-gran-sonrisa-3d-icon-png-download-11431338.png" alt="Groovy">

<div class="stats" id="batteryStats">Battery: 100%</div>
<div class="stats" id="hungerStats">Hunger: 0%</div>
<div class="stats" id="thirstStats">Thirst: 0%</div>
<div class="stats" id="cleanlinessStats">Cleanliness: 100%</div>
<div class="stats" id="healthStats">Health: 100%</div>
<div id="level">Level: 1</div>

<ul>
  <li><button onclick="interact('feed')">Feed</button></li>
  <li><button onclick="interact('drink')">Give Water</button></li>
  <li><button onclick="interact('play')">Play</button></li>
  <li><button onclick="interact('charge')">Charge</button></li>
  <li><button onclick="interact('pet')">Pet</button></li>
  <li><button onclick="interact('joke')">Tell a Joke</button></li>
  <li><button onclick="interact('dance')">Dance</button></li>
  <li><button onclick="interact('sleep')">Sleep</button></li>
  <li><button onclick="interact('workout')">Workout</button></li>
  <li><button onclick="interact('bath')">Bath</button></li>
  <li><button onclick="interact('hug')">Hug</button></li>
</ul>
</div>

<div id="main">
<div id="mood">üôÇ</div>
<img id="groovy" src="https://cdn3d.iconscout.com/3d/premium/thumb/personaje-robot-con-inteligencia-artificial-saludando-con-una-gran-sonrisa-3d-icon-png-download-11431338.png" alt="Groovy">
<div id="output">Loading Groovy...</div>
</div>

<script>
const groovy = document.getElementById('groovy');
const output = document.getElementById('output');
const batteryStats = document.getElementById('batteryStats');
const hungerStats = document.getElementById('hungerStats');
const thirstStats = document.getElementById('thirstStats');
const cleanlinessStats = document.getElementById('cleanlinessStats');
const healthStats = document.getElementById('healthStats');
const levelEl = document.getElementById('level');
const moodEl = document.getElementById('mood');

let battery = 100, hunger = 0, thirst = 0, cleanliness = 100, health = 100;
let level = 1, exp = 0, happiness = 80;
let dead = false;

let groovyVoice = null;
function loadVoices() {
  const voices = speechSynthesis.getVoices();
  if(voices.length > 0){
    // MANUALLY SET YOUR VOICE NAME HERE
    groovyVoice = voices.find(v => v.name === "Microsoft Zira Desktop") || voices[0];
  }
}
speechSynthesis.onvoiceschanged = loadVoices;
loadVoices();

function groovySpeak(msg){
  if(!groovyVoice) loadVoices();
  const utter = new SpeechSynthesisUtterance(msg.replace(/[\u{1F300}-\u{1F6FF}]/gu,'')); // remove emojis
  utter.voice = groovyVoice;
  utter.pitch = 1.5;
  utter.rate = 1.1;
  speechSynthesis.speak(utter);
}

function updateStats(){
  batteryStats.textContent = `Battery: ${Math.round(battery)}%`;
  hungerStats.textContent = `Hunger: ${Math.round(hunger)}%`;
  thirstStats.textContent = `Thirst: ${Math.round(thirst)}%`;
  cleanlinessStats.textContent = `Cleanliness: ${Math.round(cleanliness)}%`;
  healthStats.textContent = `Health: ${Math.round(health)}%`;
  levelEl.textContent = `Level: ${level}`;
  
  let mood = happiness>80?'üòÑ':happiness>50?'üôÇ':happiness>20?'üòê':'üò¢';
  moodEl.textContent = mood;

  if(battery<=0 || health<=0){
    dead = true;
    groovy.style.opacity = 0.3;
    showMessage("Groovy died! Click Restart.");
  }
}

function gainExp(amount){
  exp += amount;
  if(exp>=100){
    level++;
    exp = 0;
    showMessage(`Groovy leveled up! Now at level ${level}!`);
  }
}

function gainHappiness(amount){
  happiness += amount;
  if(happiness>100) happiness=100;
  if(happiness<0) happiness=0;
}

function showMessage(msg){
  if(dead) return;
  output.textContent = msg;
  groovy.classList.add('bounce');
  setTimeout(()=>groovy.classList.remove('bounce'),600);
  groovySpeak(msg);
}

function interact(action){
  if(dead) return;
  let msg = "";
  switch(action){
    case 'feed': hunger = Math.max(0,hunger-20); battery=Math.min(100,battery+5); gainExp(10); gainHappiness(5); msg="Yummy, thanks!"; break;
    case 'drink': thirst = Math.max(0,thirst-20); battery=Math.min(100,battery+2); gainExp(5); gainHappiness(5); msg="Refreshing!"; break;
    case 'play': battery=Math.max(0,battery-5); hunger+=5; thirst+=5; cleanliness=Math.max(0,cleanliness-10); gainExp(15); gainHappiness(15); msg="That was fun!"; break;
    case 'charge': battery=Math.min(100,battery+30); gainExp(5); gainHappiness(5); msg="Charging..."; break;
    case 'pet': battery=Math.min(100,battery+5); gainExp(10); gainHappiness(10); msg="Yay! Thanks!"; break;
    case 'dance': gainExp(15); gainHappiness(10); msg="Let's dance!"; groovy.classList.add('dance'); setTimeout(()=>groovy.classList.remove('dance'),3000); break;
    case 'sleep': msg="Sleeping..."; groovy.classList.add('sleep'); setTimeout(()=>groovy.classList.remove('sleep'),5000); battery=Math.min(100,battery+20); break;
    case 'workout': battery=Math.max(0,battery-10); hunger+=10; thirst+=10; cleanliness=Math.max(0,cleanliness-10); gainExp(20); gainHappiness(5); msg="Workout done!"; break;
    case 'bath': cleanliness = 100; gainExp(5); gainHappiness(5); msg="All clean!"; break;
    case 'hug': battery=Math.min(100,battery+5); gainExp(10); gainHappiness(10); msg="Aww, thanks!"; break;
    case 'joke': gainExp(5); gainHappiness(5); msg="Why did the robot go to school? Because it had lots of bytes!"; break;
    default: msg="Unknown action!";
  }

  if(hunger>80 || thirst>80 || cleanliness<20) health=Math.max(0,health-5);

  updateStats();
  showMessage(msg);
}

// Stat decay over time
setInterval(()=>{
  if(dead) return;
  hunger = Math.min(100,hunger+1);
  thirst = Math.min(100,thirst+1);
  cleanliness = Math.max(0,cleanliness-0.5);
  battery = Math.max(0,battery-0.2);
  if(hunger>80 || thirst>80 || cleanliness<20) health = Math.max(0,health-1);
  updateStats();
},5000);

// Drag Groovy
let isDragging=false, offsetX=0, offsetY=0;
groovy.addEventListener('mousedown',(e)=>{ isDragging=true; offsetX=e.clientX-groovy.offsetLeft; offsetY=e.clientY-groovy.offsetTop; groovy.style.cursor='grabbing'; });
document.addEventListener('mouseup',()=>{ isDragging=false; groovy.style.cursor='grab'; });
document.addEventListener('mousemove',(e)=>{ if(isDragging){ groovy.style.left=(e.clientX-offsetX)+'px'; groovy.style.top=(e.clientY-offsetY)+'px'; } });

// Intro
function intro(){
  showMessage("Hello! I'm Groovy, your robot pet. Take care of me!");
}
intro();
updateStats();
</script>
</body>
</html>
