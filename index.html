<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Groovy the Virtual Pet</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      margin: 0;
      height: 100vh;
      background: linear-gradient(to bottom right, #222, #555);
      color: white;
    }
    #sidebar {
      width: 200px;
      background: rgba(0,0,0,0.7);
      padding: 15px;
      overflow-y: auto;
    }
    #sidebar h2 { text-align: center; }
    .command {
      background: #444;
      margin: 5px 0;
      padding: 8px;
      border-radius: 5px;
      cursor: pointer;
      text-align: center;
    }
    .command:hover { background: #666; }
    #main {
      flex:1;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start;
      position:relative;
      padding-top:50px;
    }
    #groovy {
      width:200px;
      position:relative;
      cursor:grab;
    }
    #stats {
      position: absolute;
      top: 10px;
      right: 20px;
      background: rgba(0,0,0,0.7);
      padding: 10px;
      border-radius: 10px;
      text-align: left;
    }
    #output {
      background: rgba(0,0,0,0.7);
      padding:15px;
      border-radius:10px;
      width:70%;
      text-align:center;
      font-size:18px;
      position: absolute;
      bottom: 80px; /* higher for mobile */
    }
    #warning {
      position: absolute;
      top: 10px;
      font-size: 20px;
      color: red;
      font-weight: bold;
    }
    .bar {
      height: 15px;
      border-radius: 5px;
      margin: 5px 0;
      background: #333;
      overflow: hidden;
    }
    .bar-fill {
      height: 100%;
      background: limegreen;
      width: 100%;
    }
    button {
      background: #ff4444;
      color: white;
      padding: 8px 12px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<div id="sidebar">
  <h2>Commands</h2>
  <div class="command" onclick="doAction('feed')">üçé Feed</div>
  <div class="command" onclick="doAction('drink')">ü•§ Drink</div>
  <div class="command" onclick="doAction('play')">üéÆ Play</div>
  <div class="command" onclick="doAction('bath')">üõÅ Bath</div>
  <div class="command" onclick="doAction('sleep')">üò¥ Sleep</div>
  <div class="command" onclick="doAction('workout')">üí™ Workout</div>
</div>

<div id="main">
  <div id="warning"></div>
  <img id="groovy" src="https://cdn3d.iconscout.com/3d/premium/thumb/personaje-robot-con-inteligencia-artificial-saludando-con-una-gran-sonrisa-3d-icon-png-download-11431338.png" alt="Groovy">
  <div id="stats">
    <div>üîã Battery: <span id="battery">100%</span></div>
    <div>üòä Happiness: <span id="happiness">100%</span></div>
    <div>üßº Cleanliness: <span id="cleanliness">100%</span></div>
    <div>‚ù§Ô∏è Health: <span id="health">100%</span></div>
    <div class="bar"><div id="battery-bar" class="bar-fill"></div></div>
    <div class="bar"><div id="happy-bar" class="bar-fill"></div></div>
    <div class="bar"><div id="clean-bar" class="bar-fill"></div></div>
    <div class="bar"><div id="health-bar" class="bar-fill"></div></div>
  </div>
  <div id="output">Loading Groovy...</div>
</div>

<script>
let battery = 100;
let happiness = 100;
let cleanliness = 100;
let health = 100;

let groovy = document.getElementById("groovy");
let output = document.getElementById("output");
let warning = document.getElementById("warning");

// Update stats UI
function updateGroovyStats() {
  document.getElementById("battery").textContent = battery + "%";
  document.getElementById("happiness").textContent = happiness + "%";
  document.getElementById("cleanliness").textContent = cleanliness + "%";
  document.getElementById("health").textContent = health + "%";
  document.getElementById("battery-bar").style.width = battery + "%";
  document.getElementById("happy-bar").style.width = happiness + "%";
  document.getElementById("clean-bar").style.width = cleanliness + "%";
  document.getElementById("health-bar").style.width = health + "%";

  // Image change
  if (happiness < 50 || cleanliness < 30 || health < 50) {
    groovy.src = "https://img.freepik.com/free-vector/ai-technology-robot-cyborg-illustrations_128561063.htm";
  } else {
    groovy.src = "https://cdn3d.iconscout.com/3d/premium/thumb/personaje-robot-con-inteligencia-artificial-saludando-con-una-gran-sonrisa-3d-icon-png-download-11431338.png";
  }

  // Show warnings
  if (cleanliness < 30) warning.textContent = "‚ö†Ô∏è Groovy feels dirty!";
  else if (happiness < 30) warning.textContent = "‚ö†Ô∏è Groovy feels sad...";
  else if (battery < 20) warning.textContent = "‚ö†Ô∏è Groovy needs charging!";
  else warning.textContent = "";
}

// Show message
function showMessage(msg) {
  output.textContent = msg;
}

// Handle actions
function doAction(action) {
  if (battery <= 0 || health <= 0) {
    showMessage("üíÄ Groovy has died! Please restart.");
    return;
  }

  let message = "";

  switch(action) {
    case 'feed':
      battery -= 2;
      cleanliness -= 10;
      happiness += 5;
      message = "üçé Groovy ate some food!";
      break;
    case 'drink':
      battery -= 2;
      cleanliness -= 5;
      happiness += 3;
      message = "ü•§ Groovy had a drink!";
      break;
    case 'play':
      if (cleanliness < 30) {
        message = "üßº Groovy is too dirty to play!";
      } else {
        battery -= 5;
        happiness += 10;
        cleanliness -= 5;
        message = "üéÆ Groovy had fun playing!";
      }
      break;
    case 'bath':
      cleanliness = 100;
      happiness += 5;
      battery -= 3;
      message = "üõÅ Groovy is squeaky clean!";
      break;
    case 'sleep':
      battery = Math.min(100, battery + 20);
      message = "üò¥ Groovy took a nap and recharged!";
      break;
    case 'workout':
      if (cleanliness < 30) {
        message = "üßº Groovy is too dirty to work out!";
      } else {
        battery -= 8;
        happiness += 7;
        cleanliness -= 10;
        message = "üí™ Groovy did some exercise!";
      }
      break;
    default:
      message = "Unknown action!";
  }

  // Clamp values
  battery = Math.max(0, Math.min(100, battery));
  happiness = Math.max(0, Math.min(100, happiness));
  cleanliness = Math.max(0, Math.min(100, cleanliness));
  health = Math.max(0, Math.min(100, health));

  showMessage(message);
  updateGroovyStats();
}

// Decay over time
setInterval(()=>{
  if (battery > 0 && health > 0) {
    battery -= 1;
    cleanliness -= 0.5;
    happiness -= 0.5;
  }

  // Health penalties
  if (cleanliness < 30) health -= 1;
  if (happiness < 30) health -= 1;
  if (battery <= 0) health -= 2;

  // Death
  if (health <= 0) {
    showMessage("üíÄ Groovy has died! Game Over.");
    groovy.style.opacity = 0.5;
    warning.textContent = "‚ùå Groovy is gone...";
  }

  updateGroovyStats();
}, 5000);

// Initialize
updateGroovyStats();
showMessage("ü§ñ Hi! I'm Groovy, your virtual robot pet.");
</script>

</body>
</html>
